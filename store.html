<script>

Vue.use(Vuex);

var store = new Vuex.Store ({
  state: {
    ui: {dialog: false,
         colors: {tagList: { light: [ "teal", "green", "light-green", "grey", "blue-grey", "indigo"],
                             dark:  ["green", "grey", "orange", "lime", "amber", "deep-orange"]},
                  theme: "light"
                  },
         footer: '',
         unreadType: [{color: "blue lighten-3", tooltip: "помечена непрочитанной"}, 
                      {color: "success", tooltip: "загружена впервые"}, 
                      {color: "info", tooltip: "обновлена в источнике"}, 
                      {color: "warning", tooltip: "обновлена в базе"},
                      {color: "error", tooltip: "есть замечания от редактора"}]
         },
    },
  getters: {
    ui (state) {  
       return state.ui;
       },      
    colorsTagList (state) {  
       return (state.ui.colors.theme === "light") 
          ? state.ui.colors.tagList.light 
          : state.ui.colors.tagList.dark
       },
  },
  mutations: {
     setFooter (state, msg) {  
       state.ui.footer = msg;
     },
     setObjReactive (state, obj) {      
       Vue.set(obj, 'setObjReactive', 42); /* принудительное обновление объекта для реактивности*/
       Vue.delete(obj, 'setObjReactive');
      },
  },
  actions: {
  }, 
  modules: {
     news,
     refs,
     user,
     local
  }
});
console.log ("store started");
</script>